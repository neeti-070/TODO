<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>To-Do List | Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="profile">
        <div class="avatar">âœ…</div>
        <div class="welcome">
          <h3>Your To-Do List</h3>
          <p>Stay organized and focused</p>
        </div>
      </div>
      <nav class="nav">
        <a href="index.html">Home</a>
        <a href="notes.html">Notes</a>
        <a href="progress.html">Progress</a>
      </nav>
    </div>

    <!-- Input section -->
    <div class="todo-inputs">
      <input type="text" id="taskInput" placeholder="Enter your task...">
      <input type="datetime-local" id="deadlineInput">
      <button class="todo-add-btn" onclick="addTask()">Add</button>
    </div>

    <!-- Task list -->
    <div id="taskList" class="task-list"></div>
  </div>

  <footer>Designed by Neeti Parmar</footer>

  <script>
    let tasks = JSON.parse(localStorage.getItem('tasks')) || [];

    function addTask() {
      const title = document.getElementById('taskInput').value.trim();
      const deadline = document.getElementById('deadlineInput').value;
      if (title === '') return alert('Please enter a task');

      const task = {
        id: Date.now(),
        title,
        deadline,
        completed: false,
        createdAt: new Date().toISOString()
      };
      tasks.push(task);
      saveTasks();
      renderTasks();
      document.getElementById('taskInput').value = '';
      document.getElementById('deadlineInput').value = '';
    }

    function toggleComplete(id) {
      tasks = tasks.map(t => t.id === id ? { ...t, completed: !t.completed } : t);
      saveTasks();
      renderTasks();
    }

    function deleteTask(id) {
      tasks = tasks.filter(t => t.id !== id);
      saveTasks();
      renderTasks();
    }

    function saveTasks() {
      localStorage.setItem('tasks', JSON.stringify(tasks));
    }

    function renderTasks() {
      const list = document.getElementById('taskList');
      list.innerHTML = '';

      if (tasks.length === 0) {
        list.innerHTML = '<p style="text-align:center;opacity:0.6;">No tasks yet ğŸŒ¸</p>';
        return;
      }

      tasks.forEach(task => {
        const item = document.createElement('div');
        item.classList.add('task-item');
        if (task.completed) item.classList.add('completed');

        const deadlineDate = task.deadline ? new Date(task.deadline) : null;
        const isOverdue = deadlineDate && deadlineDate < new Date() && !task.completed;

        item.innerHTML = `
          <div class="task-left">
            <div class="task-title">${task.title}</div>
            <div class="task-meta">
              ${deadlineDate ? `ğŸ•’ ${deadlineDate.toLocaleString()}` : 'No deadline'}
              ${isOverdue ? ' <span style="color:#e63946;">â€¢ Overdue</span>' : ''}
            </div>
          </div>
          <div class="task-actions">
            <button class="icon-btn check" onclick="toggleComplete(${task.id})">
              ${task.completed ? 'âœ…' : 'â˜'}
            </button>
            <button class="icon-btn" onclick="deleteTask(${task.id})">ğŸ—‘ï¸</button>
          </div>
        `;

        list.appendChild(item);
      });
    }

    renderTasks();
  </script>
</body>
</html>
